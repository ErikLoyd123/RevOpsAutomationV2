# RevOps Automation - Production Environment Configuration
# ============================================================
# Copy this file to .env for production deployment
# Update all placeholder values with actual production settings

# ===============================================
# Local Database Configuration (PostgreSQL Container)
# ===============================================
LOCAL_DB_HOST=postgres
LOCAL_DB_PORT=5432
LOCAL_DB_NAME=revops_core
LOCAL_DB_USER=revops_user
LOCAL_DB_PASSWORD=REPLACE_WITH_SECURE_PASSWORD
LOCAL_DB_POOL_MIN=10
LOCAL_DB_POOL_MAX=50

# ===============================================
# Odoo Production Database (Read-Only)
# ===============================================
ODOO_DB_HOST=REPLACE_WITH_ODOO_HOST
ODOO_DB_PORT=5432
ODOO_DB_NAME=REPLACE_WITH_ODOO_DATABASE
ODOO_DB_USER=REPLACE_WITH_READONLY_USER
ODOO_DB_PASSWORD=REPLACE_WITH_READONLY_PASSWORD
ODOO_DB_SSL_MODE=require
ODOO_DB_POOL_MIN=5
ODOO_DB_POOL_MAX=20

# ===============================================
# APN Production Database (Read-Only)
# ===============================================
APN_DB_HOST=REPLACE_WITH_APN_HOST
APN_DB_PORT=5432
APN_DB_NAME=REPLACE_WITH_APN_DATABASE
APN_DB_USER=REPLACE_WITH_READONLY_USER
APN_DB_PASSWORD=REPLACE_WITH_READONLY_PASSWORD
APN_DB_SSL_MODE=require
APN_DB_POOL_MIN=5
APN_DB_POOL_MAX=20

# ===============================================
# Service Configuration
# ===============================================
# Ingestion Service
INGESTION_SERVICE_HOST=0.0.0.0
INGESTION_SERVICE_PORT=8001
INGESTION_BATCH_SIZE=2000
INGESTION_MAX_WORKERS=8

# Transformation Service
TRANSFORMATION_SERVICE_HOST=0.0.0.0
TRANSFORMATION_SERVICE_PORT=8002
TRANSFORMATION_CHUNK_SIZE=10000

# Validation Service
VALIDATION_SERVICE_HOST=0.0.0.0
VALIDATION_SERVICE_PORT=8003
VALIDATION_PARALLEL_CHECKS=20

# ===============================================
# Docker Configuration
# ===============================================
DOCKER_NETWORK=revops-network
DOCKER_POSTGRES_DATA_VOLUME=revops-postgres-data
DOCKER_LOG_VOLUME=revops-logs

# ===============================================
# Application Settings
# ===============================================
APP_ENV=production
APP_DEBUG=false
APP_LOG_LEVEL=INFO
APP_LOG_DIR=/app/logs
APP_TIMEZONE=America/New_York

# ===============================================
# Security Settings (CHANGE THESE!)
# ===============================================
API_KEY=REPLACE_WITH_SECURE_API_KEY
SECRET_KEY=REPLACE_WITH_SECURE_SECRET_KEY
JWT_SECRET_KEY=REPLACE_WITH_SECURE_JWT_KEY
JWT_EXPIRY_HOURS=8
CORS_ORIGINS=https://yourdomain.com

# ===============================================
# Monitoring & Observability
# ===============================================
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_TRACING=true
TRACING_ENDPOINT=http://jaeger:4317

# ===============================================
# Data Quality Settings
# ===============================================
DQ_ENABLE_AUTO_CHECKS=true
DQ_CHECK_FREQUENCY_HOURS=4
DQ_ALERT_THRESHOLD=0.98
DQ_EMAIL_ALERTS=true
DQ_ALERT_EMAIL=ops-team@yourcompany.com

# ===============================================
# Sync Configuration
# ===============================================
SYNC_SCHEDULE_ENABLED=true
SYNC_ODOO_CRON=0 2 * * *
SYNC_APN_CRON=0 3 * * *
SYNC_RETRY_ATTEMPTS=5
SYNC_RETRY_DELAY_SECONDS=120
SYNC_TIMEOUT_MINUTES=60

# ===============================================
# Redis Configuration
# ===============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=REPLACE_WITH_REDIS_PASSWORD
REDIS_MAX_CONNECTIONS=100

# ===============================================
# File Storage
# ===============================================
STORAGE_TYPE=s3
STORAGE_PATH=/data/revops
BACKUP_PATH=/backups/revops
TEMP_PATH=/tmp/revops

# ===============================================
# AWS Configuration (for S3 storage)
# ===============================================
AWS_ACCESS_KEY_ID=REPLACE_WITH_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=REPLACE_WITH_AWS_SECRET_KEY
AWS_REGION=us-east-1
S3_BUCKET_NAME=revops-production-data

# ===============================================
# Future: BGE Service Configuration
# ===============================================
BGE_MODEL_PATH=/app/models/bge-m3
BGE_SERVICE_HOST=0.0.0.0
BGE_SERVICE_PORT=8007
BGE_BATCH_SIZE=64
BGE_MAX_SEQUENCE=8192
EMBEDDING_DIMENSION=1024
VECTOR_INDEX_TYPE=hnsw

# ===============================================
# Performance Tuning
# ===============================================
# PostgreSQL Performance
POSTGRES_SHARED_BUFFERS=512MB
POSTGRES_EFFECTIVE_CACHE_SIZE=2GB
POSTGRES_WORK_MEM=8MB
POSTGRES_MAX_CONNECTIONS=300

# Application Performance
MAX_WORKERS_PER_SERVICE=8
WORKER_MEMORY_LIMIT=1GB
REQUEST_TIMEOUT_SECONDS=300
BATCH_PROCESSING_ENABLED=true